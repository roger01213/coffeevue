(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8081829c"],{"107c":function(t,e,c){var n=c("d039");t.exports=n((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"135e":function(t,e,c){"use strict";c.r(e);c("ac1f"),c("841c");var n=c("7a23"),r=Object(n["I"])("data-v-159e7299");Object(n["t"])("data-v-159e7299");var o={class:"container"},a={class:"row"},i={class:"col-md-3"},l={class:"col-md-8"},s=Object(n["h"])("option",{value:"",disabled:"",selected:""},"預覽紀錄",-1),d={class:"row mt-4"},u={class:"card border-0 shadow-sm"},h={class:"card-body"},f={class:"badge badge-secondary float-right ml-2"},b={class:"card-title"},p={class:"card-text"},v={class:"d-flex justify-content-between align-items-baseline"},g={key:0,class:"h5"},O={key:1,class:"h6"},x={key:2,class:"h5"},j={class:"card-footer d-flex"},y=Object(n["h"])("i",{class:"bi bi-search"},null,-1),m=Object(n["g"])(" 查看更多 "),I=Object(n["h"])("i",{class:"bi bi-cart-plus"},null,-1),w=Object(n["g"])("加到購物車 ");Object(n["r"])();var E=r((function(t,e,c,r,E,k){var R=Object(n["x"])("AddModal");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",o,[Object(n["h"])("div",a,[Object(n["h"])("div",i,[Object(n["G"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return E.search=t}),placeholder:"口味查詢 ex:抹茶",size:"20",style:{"font-size":"20px"}},null,512),[[n["D"],E.search]])]),Object(n["h"])("div",l,[Object(n["G"])(Object(n["h"])("select",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return E.selecthistory=t})},[s,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(E.history,(function(t){return Object(n["q"])(),Object(n["d"])("option",{value:t,key:t.title},Object(n["z"])(t.title),9,["value"])})),128))],512),[[n["C"],E.selecthistory]]),Object(n["h"])("button",{class:"btn btn-danger",onClick:e[3]||(e[3]=Object(n["H"])((function(){return k.delhistory&&k.delhistory.apply(k,arguments)}),["prevent"]))}," 清除預覽紀錄 ")])]),Object(n["h"])("div",d,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(k.searchproducts,(function(t){return Object(n["q"])(),Object(n["d"])("div",{class:"col-md-4 mb-4",key:t.id},[Object(n["h"])("div",u,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return k.getProduct(t)}),["prevent"]),href:"#",class:"img",style:{backgroundImage:"url(".concat(t.imageUrl,")")}},null,12,["onClick"]),Object(n["h"])("div",h,[Object(n["h"])("span",f,Object(n["z"])(t.category),1),Object(n["h"])("h5",b,[Object(n["h"])("a",{href:"#",class:"text-dark",onClick:Object(n["H"])((function(e){return k.getProduct(t)}),["prevent"])},Object(n["z"])(t.title),9,["onClick"])]),Object(n["h"])("p",p,Object(n["z"])(t.content),1),Object(n["h"])("div",v,[t.price?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",g,Object(n["z"])(t.origin_price)+" 元 ",1)),t.price?(Object(n["q"])(),Object(n["d"])("del",O,"原價 "+Object(n["z"])(t.origin_price)+" 元",1)):Object(n["e"])("",!0),t.price?(Object(n["q"])(),Object(n["d"])("div",x," 現在只要 "+Object(n["z"])(t.price)+" 元 ",1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",j,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:function(e){return k.getProduct(t)}},[y,m],8,["onClick"]),Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm ml-auto",onClick:function(e){return k.addToCart(t.id)}},[I,w],8,["onClick"])])])])})),128))])]),Object(n["h"])(R,{ref:"AddModal"},null,512)],64)})),k=(c("99af"),c("159b"),c("a434"),c("4de4"),c("466d"),c("ff29")),R={data:function(){return{selecthistory:{},history:[],products:[],product:{},search:"",searchproducts:[]}},components:{AddModal:k["a"]},methods:{delhistory:function(){localStorage.clear(),this.history=[]},getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("orange01213","/products/all");this.$http.get(e).then((function(e){t.products=e.data.products,console.log("products:",e)}))},getProduct:function(t){var e=this,c=t.id;this.history.forEach((function(c,n){c.id==t.id&&e.history.splice(n,1)})),this.history.push(t),localStorage.setItem("history",JSON.stringify(this.history)),this.$router.push("/product/".concat(c))},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("orange01213","/cart"),n={product_id:t,qty:e},r=this.$refs.AddModal;this.$http.post(c,{data:n}).then((function(t){console.log("成功加入購物車"),r.showModal()}))}},computed:{searchproducts:function(){var t=this;return this.products.filter((function(e,c){return e.title.match(t.search)}))}},watch:{selecthistory:function(t){var e=this;this.history.forEach((function(c,n){c.id==t.id&&e.history.splice(n,1)})),console.log("item",t),this.history.push(t),localStorage.setItem("history",JSON.stringify(this.history)),this.$router.push("/product/".concat(t.id))}},created:function(){this.getProducts();var t=JSON.parse(localStorage.getItem("history"))||[];this.history=t}};c("7fef");R.render=E,R.__scopeId="data-v-159e7299";e["default"]=R},"14c3":function(t,e,c){var n=c("c6b6"),r=c("9263");t.exports=function(t,e){var c=t.exec;if("function"===typeof c){var o=c.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"466d":function(t,e,c){"use strict";var n=c("d784"),r=c("825a"),o=c("50c4"),a=c("577e"),i=c("1d80"),l=c("8aa5"),s=c("14c3");n("match",(function(t,e,c){return[function(e){var c=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,c):new RegExp(e)[t](a(c))},function(t){var n=r(this),i=a(t),d=c(e,n,i);if(d.done)return d.value;if(!n.global)return s(n,i);var u=n.unicode;n.lastIndex=0;var h,f=[],b=0;while(null!==(h=s(n,i))){var p=a(h[0]);f[b]=p,""===p&&(n.lastIndex=l(i,o(n.lastIndex),u)),b++}return 0===b?null:f}]}))},"7fef":function(t,e,c){"use strict";c("d539")},"841c":function(t,e,c){"use strict";var n=c("d784"),r=c("825a"),o=c("1d80"),a=c("129f"),i=c("577e"),l=c("14c3");n("search",(function(t,e,c){return[function(e){var c=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,c):new RegExp(e)[t](i(c))},function(t){var n=r(this),o=i(t),s=c(e,n,o);if(s.done)return s.value;var d=n.lastIndex;a(d,0)||(n.lastIndex=0);var u=l(n,o);return a(n.lastIndex,d)||(n.lastIndex=d),null===u?-1:u.index}]}))},"8aa5":function(t,e,c){"use strict";var n=c("6547").charAt;t.exports=function(t,e,c){return e+(c?n(t,e).length:1)}},9263:function(t,e,c){"use strict";var n=c("577e"),r=c("ad6d"),o=c("9f7f"),a=c("5692"),i=c("7c73"),l=c("69f3").get,s=c("fce3"),d=c("107c"),u=RegExp.prototype.exec,h=a("native-string-replace",String.prototype.replace),f=u,b=function(){var t=/a/,e=/b*/g;return u.call(t,"a"),u.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),p=o.UNSUPPORTED_Y||o.BROKEN_CARET,v=void 0!==/()??/.exec("")[1],g=b||v||p||s||d;g&&(f=function(t){var e,c,o,a,s,d,g,O=this,x=l(O),j=n(t),y=x.raw;if(y)return y.lastIndex=O.lastIndex,e=f.call(y,j),O.lastIndex=y.lastIndex,e;var m=x.groups,I=p&&O.sticky,w=r.call(O),E=O.source,k=0,R=j;if(I&&(w=w.replace("y",""),-1===w.indexOf("g")&&(w+="g"),R=j.slice(O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==j.charAt(O.lastIndex-1))&&(E="(?: "+E+")",R=" "+R,k++),c=new RegExp("^(?:"+E+")",w)),v&&(c=new RegExp("^"+E+"$(?!\\s)",w)),b&&(o=O.lastIndex),a=u.call(I?c:O,R),I?a?(a.input=a.input.slice(k),a[0]=a[0].slice(k),a.index=O.lastIndex,O.lastIndex+=a[0].length):O.lastIndex=0:b&&a&&(O.lastIndex=O.global?a.index+a[0].length:o),v&&a&&a.length>1&&h.call(a[0],c,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a&&m)for(a.groups=d=i(null),s=0;s<m.length;s++)g=m[s],d[g[0]]=a[g[1]];return a}),t.exports=f},"9f7f":function(t,e,c){var n=c("d039"),r=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a434:function(t,e,c){"use strict";var n=c("23e7"),r=c("23cb"),o=c("a691"),a=c("50c4"),i=c("7b0b"),l=c("65f0"),s=c("8418"),d=c("1dde"),u=d("splice"),h=Math.max,f=Math.min,b=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var c,n,d,u,v,g,O=i(this),x=a(O.length),j=r(t,x),y=arguments.length;if(0===y?c=n=0:1===y?(c=0,n=x-j):(c=y-2,n=f(h(o(e),0),x-j)),x+c-n>b)throw TypeError(p);for(d=l(O,n),u=0;u<n;u++)v=j+u,v in O&&s(d,u,O[v]);if(d.length=n,c<n){for(u=j;u<x-n;u++)v=u+n,g=u+c,v in O?O[g]=O[v]:delete O[g];for(u=x;u>x-n+c;u--)delete O[u-1]}else if(c>n)for(u=x-n;u>j;u--)v=u+n-1,g=u+c-1,v in O?O[g]=O[v]:delete O[g];for(u=0;u<c;u++)O[u+j]=arguments[u+2];return O.length=x-n+c,d}})},ac1f:function(t,e,c){"use strict";var n=c("23e7"),r=c("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,c){"use strict";var n=c("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d539:function(t,e,c){},d784:function(t,e,c){"use strict";c("ac1f");var n=c("6eeb"),r=c("9263"),o=c("d039"),a=c("b622"),i=c("9112"),l=a("species"),s=RegExp.prototype;t.exports=function(t,e,c,d){var u=a(t),h=!o((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})),f=h&&!o((function(){var e=!1,c=/a/;return"split"===t&&(c={},c.constructor={},c.constructor[l]=function(){return c},c.flags="",c[u]=/./[u]),c.exec=function(){return e=!0,null},c[u](""),!e}));if(!h||!f||c){var b=/./[u],p=e(u,""[t],(function(t,e,c,n,o){var a=e.exec;return a===r||a===s.exec?h&&!o?{done:!0,value:b.call(e,c,n)}:{done:!0,value:t.call(c,e,n)}:{done:!1}}));n(String.prototype,t,p[0]),n(s,u,p[1])}d&&i(s[u],"sham",!0)}},fce3:function(t,e,c){var n=c("d039");t.exports=n((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},ff29:function(t,e,c){"use strict";var n=c("7a23"),r={class:"modal fade",id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},o={class:"modal-dialog",role:"document"},a={class:"modal-content border-0"},i=Object(n["h"])("div",{class:"modal-header bg-danger text-white"},[Object(n["h"])("h5",{class:"modal-title"}," 購物提醒 "),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l=Object(n["h"])("div",{class:"modal-body"}," 已加入購物車 感謝購買~ ",-1),s={class:"modal-footer"};function d(t,e,c,d,u,h){return Object(n["q"])(),Object(n["d"])("div",r,[Object(n["h"])("div",o,[Object(n["h"])("div",a,[i,l,Object(n["h"])("div",s,[Object(n["h"])("button",{type:"button",class:"btn btn-danger",onClick:e[1]||(e[1]=Object(n["H"])((function(){return h.hideModal&&h.hideModal.apply(h,arguments)}),["prevent"]))},"確認 ")])])])],512)}var u=c("7c2b"),h=c.n(u),f={data:function(){return{modal:""}},methods:{showModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new h.a(this.$refs.modal)}};f.render=d;e["a"]=f}}]);
//# sourceMappingURL=chunk-8081829c.e722b515.js.map