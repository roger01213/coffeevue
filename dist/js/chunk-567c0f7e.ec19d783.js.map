{"version":3,"sources":["webpack:///./src/views/Usercart.vue","webpack:///./src/views/Usercart.vue?0e8f","webpack:///./src/components/AddModal.vue","webpack:///./src/components/AddModal.vue?416b"],"names":["class","href","products","item","key","id","style","imageUrl","category","title","content","price","origin_price","type","getProduct","addToCart","ref","data","product","components","AddModal","methods","getProducts","url","this","$http","get","then","response","console","log","isLoading","$router","push","qty","cart","product_id","addmodalcomponent","$refs","post","showModal","created","render","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","hideModal","modal","show","hide","mounted"],"mappings":"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","file":"js/chunk-567c0f7e.ec19d783.js","sourcesContent":["<template>\r\n <div class=\"container-fluid\">\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-md-4 mb-4\" v-for=\"item in products\" :key=\"item.id\">\r\n        <div class=\"card border-0 shadow-sm\">\r\n          <div\r\n            style=\"\r\n              height: 150px;\r\n              background-size: cover;\r\n              background-position: center;\r\n            \"\r\n            :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\r\n          ></div>\r\n          <div class=\"card-body\">\r\n            <span class=\"badge badge-secondary float-right ml-2\">{{\r\n              item.category\r\n            }}</span>\r\n            <h5 class=\"card-title\">\r\n              <a href=\"#\" class=\"text-dark\">{{ item.title }}</a>\r\n            </h5>\r\n            <p class=\"card-text\">{{ item.content }}</p>\r\n            <div class=\"d-flex justify-content-between align-items-baseline\">\r\n              <div class=\"h5\" v-if=\"!item.price\">\r\n                {{ item.origin_price }} 元\r\n              </div>\r\n              <del class=\"h6\" v-if=\"item.price\"\r\n                >原價 {{ item.origin_price }} 元</del\r\n              >\r\n              <div class=\"h5\" v-if=\"item.price\">\r\n                現在只要 {{ item.price }} 元\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-footer d-flex\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary btn-sm\"\r\n              @click=\"getProduct(item.id)\"\r\n            >\r\n              <i class=\"fas fa-spinner fa-spin\"></i>\r\n              查看更多\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-danger btn-sm ml-auto\"\r\n              @click=\"addToCart(item.id)\"\r\n            >\r\n              <i class=\"fas fa-spinner fa-spin\"></i>\r\n              加到購物車\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n   </div> \r\n   <AddModal ref=\"AddModal\"></AddModal>\r\n</template>\r\n\r\n<script>\r\nimport AddModal from\"@/components/AddModal.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n     \r\n    };\r\n  },\r\n  components: {\r\n    AddModal,\r\n  },\r\n  methods: {\r\n    \r\n    getProducts() {\r\n      //取得商品資料\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      // this.isLoading = true;\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products;\r\n        console.log('products:', response);\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      //給商品ID轉址到該商品頁面\r\n      this.$router.push(`/product/${id}`);\r\n    },\r\n   \r\n    addToCart(id,qty=1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      const cart = {\r\n        product_id: id,\r\n        qty,\r\n      };\r\n      const addmodalcomponent= this.$refs.AddModal;\r\n      this.$http.post(url, { data: cart } )\r\n      .then((response) => {\r\n        console.log('成功加入購物車');\r\n        addmodalcomponent.showModal();\r\n      });\r\n   \r\n    },\r\n  },\r\n  created() {\r\n    //由生命週期取得商品資料\r\n    this.getProducts();\r\n  },\r\n};\r\n</script>","import { render } from \"./Usercart.vue?vue&type=template&id=a7ddfc74\"\nimport script from \"./Usercart.vue?vue&type=script&lang=js\"\nexport * from \"./Usercart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"modal fade\" id=\"delModal\" tabindex=\"-1\" role=\"dialog\"\r\n       aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-success text-white\">\r\n          <h5 class=\"modal-title\">\r\n            購物提醒\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          已加入購物車 感謝購買~\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n         \r\n          <button type=\"button\" class=\"btn btn-danger\"\r\n             @click.prevent=\"hideModal\">確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Modal from \"bootstrap/js/dist/modal\";\r\nexport default {\r\n  \r\n  data() {\r\n    return {\r\n      modal: '',\r\n    };\r\n  },\r\n   methods: {\r\n    showModal() {\r\n      this.modal.show();\r\n    },\r\n    hideModal() {\r\n      this.modal.hide();\r\n    },\r\n   \r\n  },\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.modal);\r\n  },\r\n};\r\n</script>","import { render } from \"./AddModal.vue?vue&type=template&id=40f6b758\"\nimport script from \"./AddModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}